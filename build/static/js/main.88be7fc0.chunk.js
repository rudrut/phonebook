(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t.n(c),u=t(16),o=t.n(u),i=(t(7),t(5)),r=t(3),s=t(0),l=function(e){var n=e.personsToShow,t=e.button;return Object(s.jsxs)("div",{children:[n," ",t]})},b=function(e){var n=e.value,t=e.onChange;return Object(s.jsxs)("div",{children:["Filter by: ",Object(s.jsx)("input",{value:n,onChange:t})]})},d=function(e){var n=e.name,t=e.number;return Object(s.jsx)("div",{children:Object(s.jsxs)("h6",{children:[n," ",t]})})},h=function(e){var n=e.namevalue,t=e.numbervalue,c=e.onSubmit,a=e.onNameChange,u=e.onNumberChange;return Object(s.jsxs)("form",{onSubmit:c,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{namevalue:n,onChange:a})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{numbervalue:t,onChange:u})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},j=t(4),m=t.n(j),f="/api/persons",O=function(){return m.a.get(f).then((function(e){return e.data}))},v=function(e){return m.a.post(f,e).then((function(e){return e.data}))},g=function(e,n){return m.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},x=function(e,n){return m.a.delete("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"success",children:n})},w=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"error",children:n})},C=function(){var e=Object(c.useState)([]),n=Object(r.a)(e,2),t=n[0],a=n[1],u=Object(c.useState)(""),o=Object(r.a)(u,2),j=o[0],m=o[1],f=Object(c.useState)(""),C=Object(r.a)(f,2),P=C[0],S=C[1],y=Object(c.useState)(""),T=Object(r.a)(y,2),N=T[0],k=T[1],F=Object(c.useState)(!1),L=Object(r.a)(F,2),D=L[0],B=(L[1],Object(c.useState)(null)),E=Object(r.a)(B,2),I=E[0],J=E[1],A=Object(c.useState)(null),M=Object(r.a)(A,2),q=M[0],z=M[1];Object(c.useEffect)((function(){O().then((function(e){a(e)}))}),[]);var G=D?t:t.filter((function(e){return e.name.toLowerCase().includes(N.toLowerCase())}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(p,{message:q}),Object(s.jsx)(w,{message:I}),Object(s.jsx)(b,{value:N,onChange:function(e){k(e.target.value)}}),Object(s.jsx)("h2",{children:"Add new contact info"}),Object(s.jsx)(h,{onSubmit:function(e){e.preventDefault();var n={name:j,number:P};if(t.find((function(e){return e.name===j}))){if(window.confirm("Person already exists, do you wish to update number?")){var c=t.find((function(e){return e.name===j})),u=c.id,o=Object(i.a)(Object(i.a)({},c),{},{number:P});g(u,o).then((function(e){a(t.map((function(n){return n.id!==u?n:e}))),z("Number '".concat(c.number,"' was successfully updated")),setTimeout((function(){z(null)}),5e3)})).catch((function(){J("Person '".concat(c.name,"' has already been deleted")),setTimeout((function(){J(null)}),5e3)})),m(""),S("")}}else v(n).then((function(e){a(t.concat(e)),z("Person '".concat(e.name,"' was successfully added")),setTimeout((function(){z(null)}),5e3),m(""),S("")})).catch((function(e){j.length<3&&(J("Person validation failed: name: Path 'name' (".concat(j,") is shorter than the minimum allowed length (3).")),setTimeout((function(){J(null)}),5e3)),P.length<8&&(J("Person validation failed: number: Path 'number' (".concat(P,") is shorter than the minimum allowed length (8).")),setTimeout((function(){J(null)}),5e3)),P.length<8&&j.length<3&&(J("Person validation failed: name: Path 'name' (".concat(j,") is shorter than the minimum allowed length (3). \n          Person validation failed: number: Path 'number' (").concat(P,") is shorter than the minimum allowed length (8).")),setTimeout((function(){J(null)}),5e3))}))},namevalue:j,onNameChange:function(e){m(e.target.value)},numbervalue:P,onNumberChange:function(e){S(e.target.value)}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(l,{personsToShow:G.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)(d,Object(i.a)({},e))," ",Object(s.jsx)("button",{onClick:function(){return function(e){var n=e;window.confirm("Do you really want to delete?")&&(x(e),a(t.filter((function(e){return e.id!==n}))))}(e.id)},children:" delete "})]},e.id)}))}),Object(s.jsx)("div",{})]})},P=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,u=n.getLCP,o=n.getTTFB;t(e),c(e),a(e),u(e),o(e)}))};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(C,{})}),document.getElementById("root")),P()},7:function(e,n,t){}},[[40,1,2]]]);
//# sourceMappingURL=main.88be7fc0.chunk.js.map