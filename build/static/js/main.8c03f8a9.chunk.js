(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,n,t){"use strict";t.r(n);var c=t(1),u=t.n(c),a=t(16),r=t.n(a),o=(t(7),t(5)),i=t(3),s=t(0),j=function(e){var n=e.personsToShow,t=e.button;return Object(s.jsxs)("div",{children:[n," ",t]})},b=function(e){var n=e.value,t=e.onChange;return Object(s.jsxs)("div",{children:["Filter by: ",Object(s.jsx)("input",{value:n,onChange:t})]})},l=function(e){var n=e.name,t=e.number;return Object(s.jsx)("div",{children:Object(s.jsxs)("h6",{children:[n," ",t]})})},d=function(e){var n=e.namevalue,t=e.numbervalue,c=e.onSubmit,u=e.onNameChange,a=e.onNumberChange;return Object(s.jsxs)("form",{onSubmit:c,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{namevalue:n,onChange:u})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{numbervalue:t,onChange:a})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},f=t(4),h=t.n(f),O="/api/persons",m=function(){return h.a.get(O).then((function(e){return e.data}))},v=function(e){return h.a.post(O,e).then((function(e){return e.data}))},x=function(e,n){return h.a.put("".concat(O,"/").concat(e),n).then((function(e){return e.data}))},g=function(e,n){return h.a.delete("".concat(O,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"success",children:n})},w=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"error",children:n})},C=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],u=n[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),f=r[0],h=r[1],O=Object(c.useState)(""),C=Object(i.a)(O,2),S=C[0],y=C[1],N=Object(c.useState)(""),T=Object(i.a)(N,2),k=T[0],P=T[1],F=Object(c.useState)(!1),L=Object(i.a)(F,2),D=L[0],B=(L[1],Object(c.useState)(null)),E=Object(i.a)(B,2),I=E[0],J=E[1],A=Object(c.useState)(null),M=Object(i.a)(A,2),q=M[0],z=M[1];Object(c.useEffect)((function(){m().then((function(e){u(e)}))}),[]);var G=D?t:t.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(p,{message:q}),Object(s.jsx)(w,{message:I}),Object(s.jsx)(b,{value:k,onChange:function(e){P(e.target.value)}}),Object(s.jsx)("h2",{children:"Add new contact info"}),Object(s.jsx)(d,{onSubmit:function(e){e.preventDefault();var n={name:f,number:S};if(t.find((function(e){return e.name===f}))){if(window.confirm("Person already exists, do you wish to update number?")){var c=t.find((function(e){return e.name===f})),a=c.id,r=Object(o.a)(Object(o.a)({},c),{},{number:S});x(a,r).then((function(e){u(t.map((function(n){return n.id!==a?n:e}))),z("Number '".concat(c.number,"' was successfully updated")),setTimeout((function(){z(null)}),5e3)})).catch((function(){J("Person '".concat(c.name,"' has already been deleted")),setTimeout((function(){J(null)}),5e3)})),h(""),y("")}}else v(n).then((function(e){u(t.concat(e)),z("Person '".concat(e.name,"' was successfully added")),setTimeout((function(){z(null)}),5e3),h(""),y("")}))},namevalue:f,onNameChange:function(e){h(e.target.value)},numbervalue:S,onNumberChange:function(e){y(e.target.value)}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(j,{personsToShow:G.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)(l,Object(o.a)({},e))," ",Object(s.jsx)("button",{onClick:function(){return function(e){var n=e;window.confirm("Do you really want to delete?")&&(g(e),u(t.filter((function(e){return e.id!==n}))))}(e.id)},children:" delete "})]},e.id)}))}),Object(s.jsx)("div",{})]})},S=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,u=n.getFCP,a=n.getLCP,r=n.getTTFB;t(e),c(e),u(e),a(e),r(e)}))};r.a.render(Object(s.jsx)(u.a.StrictMode,{children:Object(s.jsx)(C,{})}),document.getElementById("root")),S()},7:function(e,n,t){}},[[40,1,2]]]);
//# sourceMappingURL=main.8c03f8a9.chunk.js.map